<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LCR — Citizen Portal</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Merriweather:wght@700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --nav-bg:#3e5783;
      --nav-ink:#f4f7fb;
      --nav-ink-dim:#dfe7f5;
      --page-bg:#ffffff;
      --text:#1e293b;
      --card:#ffffff;
      --card-border:#e6ebf3;
      --shadow:0 8px 24px rgba(20,35,66,.12);
      --btn:#3e5783; --btn-ink:#fff;

      /* edge allowances */
      --nav-edge: 10px;          /* mobile/tablet */
      --nav-edge-desktop: 20px;  /* desktop */
    }

    *{box-sizing:border-box}
    html,body{margin:0}
    body{
      font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
      color:var(--text);
      background:var(--page-bg)
    }

    /* ===== NAV ===== */
    .nav{
      position:sticky; top:0; z-index:40;
      background:var(--nav-bg); color:var(--nav-ink);
      box-shadow:0 2px 0 rgba(0,0,0,.06);
    }
    .nav-inner{
      width:100%;
      height:64px;
      display:flex; align-items:center;
      gap:12px;
      padding:0 var(--nav-edge);
      position:relative;                /* for the dropdown positioning */
    }

    /* LEFT: brand */
    .brand{
      display:flex; align-items:center; gap:10px;
      font-family:"Merriweather", Georgia, serif;
      font-weight:900; letter-spacing:.1px; color:var(--nav-ink);
      white-space:nowrap;
      margin-right:auto;
      transition: transform .18s ease;
    }
    .brand:hover{ transform: translateY(-1px); }
    .brand img{
      height:30px; width:auto; display:block;
      background:#fff; border-radius:6px; padding:3px;
      box-shadow:0 0 0 2px rgba(255,255,255,.35) inset;
    }

    /* RIGHT: links */
    .nav-links{
      display:flex; align-items:center; gap:34px;
      list-style:none; margin:0; padding:0;
    }
    .nav-links a{
      color:var(--nav-ink); text-decoration:none;
      font-weight:700; line-height:1; padding:8px 10px;
      border-radius:10px;
      transition: background .18s ease, transform .18s ease, color .18s ease;
    }
    .nav-links a:hover,
    .nav-links a:focus{
      background:rgba(255,255,255,.12);
      color:#fff;
      transform: translateY(-1px);
      text-decoration:none;
    }

    /* Hamburger (hidden on desktop) */
    .hamburger{
      display:none;
      background:none; border:0; color:var(--nav-ink);
      font-size:26px; line-height:1;
      padding:6px 8px; border-radius:8px;
      cursor:pointer;
      transition: background .18s ease, transform .18s ease;
    }
    .hamburger:hover{ background:rgba(255,255,255,.12); transform: translateY(-1px); }

    /* Header & content */
    header.hero{padding:26px 16px 8px}
    header.hero .wrap{max-width:1200px;margin:0 auto}
    header.hero h1{margin:0;color:var(--nav-bg);font-weight:800;letter-spacing:.2px}
    header.hero p{margin:6px 0 0;color:#51648a}

    main{max-width:1200px;margin:0 auto 40px;padding:0 16px;display:grid;gap:22px}
    #services h3{
      margin:4px 0 14px;font-size:1.4rem;text-align:center;color:var(--nav-bg);
      font-weight:900;letter-spacing:.2px;font-family:"Merriweather", Georgia, serif;
    }
    .service-grid{display:grid;gap:22px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .service-card{
      border-radius:20px;padding:20px;background:#eef2f9;border:1px solid var(--card-border);
      box-shadow:var(--shadow);display:flex;flex-direction:column;align-items:center;text-align:center;gap:10px;
      transition: transform .22s ease, box-shadow .22s ease, filter .22s ease;
    }
    .service-card:hover{
      transform: translateY(-6px) scale(1.01);
      box-shadow:0 16px 40px rgba(20,35,66,.22);
      filter: saturate(1.02);
    }
    .service-icon img{width:140px;height:100px;object-fit:contain;filter:drop-shadow(0 2px 6px rgba(0,0,0,.1))}
    .service-badge{background:var(--nav-bg);color:#fff;font-weight:800;padding:6px 12px;border-radius:999px;font-size:.95rem}
    .service-card h4{margin:2px 0 2px;font-weight:800;color:#233a5f}
    .btn{
      margin-top:8px;display:inline-block;padding:10px 16px;border-radius:10px;
      background:var(--btn);color:var(--btn-ink);font-weight:800;text-decoration:none;
      box-shadow:0 8px 18px rgba(20,35,66,.25);
      transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
    }
    .btn:hover{filter:brightness(1.05); transform: translateY(-2px); box-shadow:0 14px 28px rgba(20,35,66,.28);}

    /* ===== Scroll-reveal (View Timeline) ===== */
    @keyframes appear {
      from { opacity: 0; transform: translateY(16px) scale(.98); }
      to   { opacity: 1; transform: translateY(0)    scale(1); }
    }
    /* elements to animate */
    header.hero .wrap,
    #services h3,
    .service-card{
      opacity: 0;
      animation: appear 700ms both;
      animation-timing-function: linear;
      /* modern browsers with View Timeline */
      animation-timeline: view();
      animation-range: entry 0% cover 35%;
    }
    /* fallback class the JS will add */
    .in-view{
      opacity:1 !important;
      animation: appear 700ms both !important;
      animation-timing-function: cubic-bezier(.2,.65,.2,1) !important;
    }

    /* Mobile: show hamburger, make links a dropdown */
    @media (max-width:720px){
      .hamburger{ display:block; margin-left:auto; }
      .nav-links{
        display:none;                 /* hidden by default */
        position:absolute;
        right:var(--nav-edge);
        top:calc(100% + 6px);         /* just below the bar */
        flex-direction:column;
        gap:6px;
        background:var(--nav-bg);
        padding:10px 12px;
        border-radius:12px;
        box-shadow:0 10px 24px rgba(0,0,0,.25);
        min-width:160px;
      }
      .nav-links.open{ display:flex; }
      .nav-links a{
        width:100%;
        padding:8px 10px;
        border-radius:8px;
      }
      .nav-links a:hover{ background:rgba(255,255,255,.12); }

      .brand{ margin-right:0; }       /* let hamburger sit at far right */
      .nav-inner{ height:auto; padding:8px var(--nav-edge); }
      header.hero h1{font-size:1.4rem}
      .brand span{font-size:.95rem}
    }

    /* Desktop allowance */
    @media (min-width:1024px){
      .nav-inner{ padding:0 var(--nav-edge-desktop); }
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="nav" role="navigation" aria-label="Primary">
    <div class="nav-inner">
      <!-- LEFT: brand -->
      <div class="brand">
        <img src="/LCRSystem/image/LCR.png" alt="LCR">
        <span>LCR Buenavista</span>
      </div>

      <!-- Hamburger button (mobile only) -->
      <button
        class="hamburger"
        id="hamburger"
        aria-label="Toggle menu"
        aria-controls="navLinks"
        aria-expanded="false">☰</button>

      <!-- RIGHT: links -->
      <ul class="nav-links" id="navLinks">
        <li><a href="index.html">Home</a></li>
        <li><a href="login.html">Login</a></li>
        <li><a href="register.html">Register</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- HEADER -->
  <header class="hero">
    <div class="wrap">
      <h1>Welcome, <?php echo $name; ?>!</h1>
      <p>Please choose the type of registration you want to apply for.</p>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <section id="services">
      <h3>OUR ONLINE SERVICES</h3>
      <div class="service-grid">
        <article class="service-card">
          <div class="service-icon"><img src="/LCRSystem/image/baby.png" alt="Birth Icon" /></div>
          <div class="service-badge">On-Time | Late</div>
          <h4>Registration of Birth</h4>
          <a class="btn" href="birthRequirements.html">Apply for Birth Certificate</a>
        </article>

        <article class="service-card">
          <div class="service-icon"><img src="/LCRSystem/image/death.jpg" alt="Death Icon" /></div>
          <div class="service-badge">On-Time | Late</div>
          <h4>Registration of Death</h4>
          <a class="btn" href="deathRequirements.html">Apply for Death Certificate</a>
        </article>

        <article class="service-card">
          <div class="service-icon"><img src="/LCRSystem/image/marriage.png" alt="Marriage Icon" /></div>
          <h4>Registration of Marriage</h4>
          <a class="btn" href="marriageRequirements.html">Apply for Marriage Certificate</a>
        </article>
      </div>
    </section>
  </main>

  <script>
    // Mobile menu toggle
    (function(){
      const btn = document.getElementById('hamburger');
      const menu = document.getElementById('navLinks');

      if(!btn || !menu) return;

      btn.addEventListener('click', (e) => {
        const open = menu.classList.toggle('open');
        btn.setAttribute('aria-expanded', open ? 'true' : 'false');
        e.stopPropagation();
      });

      // Close when clicking outside
      document.addEventListener('click', (e) => {
        if (!menu.classList.contains('open')) return;
        if (!menu.contains(e.target) && e.target !== btn) {
          menu.classList.remove('open');
          btn.setAttribute('aria-expanded', 'false');
        }
      });

      // Close on Escape
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && menu.classList.contains('open')) {
          menu.classList.remove('open');
          btn.setAttribute('aria-expanded', 'false');
        }
      });
    })();

    // ===== Scroll-reveal fallback for browsers without View Timeline =====
    (function(){
      const supportsViewTimeline = CSS?.supports?.('animation-timeline', 'view()');
      if (supportsViewTimeline) return; // native handles it

      const targets = [
        ...document.querySelectorAll('header.hero .wrap'),
        ...document.querySelectorAll('#services h3'),
        ...document.querySelectorAll('.service-card')
      ];

      const io = new IntersectionObserver((entries)=>{
        for (const e of entries){
          if (e.isIntersecting){
            e.target.classList.add('in-view');
            io.unobserve(e.target);
          }
        }
      }, { threshold: 0.2 });

      targets.forEach(el => io.observe(el));
    })();
  </script>
</body>
</html>
